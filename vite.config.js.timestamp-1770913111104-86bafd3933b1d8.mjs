// vite.config.js
import { defineConfig, loadEnv } from "file:///C:/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/Sellyyourbrick19.01/sellyourbricknew/node_modules/vite/dist/node/index.js";
import react from "file:///C:/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/Sellyyourbrick19.01/sellyourbricknew/node_modules/@vitejs/plugin-react/dist/index.js";
var vite_config_default = defineConfig(({ mode }) => {
  const env = loadEnv(mode, process.cwd(), "");
  const apiBaseUrl = env.VITE_API_BASE_URL || env.REACT_APP_API_BASE_URL || "/api";
  const apiUrl = apiBaseUrl.startsWith("http") ? apiBaseUrl.replace("/api", "") : "http://localhost:3000";
  return {
    plugins: [react()],
    server: {
      proxy: {
        "/api": {
          target: apiUrl,
          changeOrigin: true,
          secure: false,
          // Если используем внешний URL (dev tunnels), не перезаписываем origin
          configure: (proxy, _options) => {
            if (apiUrl.startsWith("https://")) {
              proxy.on("proxyReq", (proxyReq, req, res) => {
                console.log(`[Proxy] ${req.method} ${req.url} -> ${apiUrl}${req.url}`);
              });
            }
          }
        }
      }
    },
    // Поддержка переменных REACT_APP_ (как в Create React App)
    define: {
      // Пробрасываем REACT_APP_ переменные в код
      "process.env.REACT_APP_CLERK_PUBLISHABLE_KEY": JSON.stringify(env.REACT_APP_CLERK_PUBLISHABLE_KEY || env.VITE_CLERK_PUBLISHABLE_KEY || ""),
      "process.env.REACT_APP_GOOGLE_CLIENT_ID": JSON.stringify(env.REACT_APP_GOOGLE_CLIENT_ID || env.VITE_GOOGLE_CLIENT_ID || ""),
      "process.env.REACT_APP_EMAILJS_SERVICE_ID": JSON.stringify(env.REACT_APP_EMAILJS_SERVICE_ID || env.VITE_EMAILJS_SERVICE_ID || ""),
      "process.env.REACT_APP_EMAILJS_TEMPLATE_ID": JSON.stringify(env.REACT_APP_EMAILJS_TEMPLATE_ID || env.VITE_EMAILJS_TEMPLATE_ID || ""),
      "process.env.REACT_APP_EMAILJS_PUBLIC_KEY": JSON.stringify(env.REACT_APP_EMAILJS_PUBLIC_KEY || env.VITE_EMAILJS_PUBLIC_KEY || ""),
      "process.env.REACT_APP_API_BASE_URL": JSON.stringify(env.REACT_APP_API_BASE_URL || env.VITE_API_BASE_URL || "/api"),
      "process.env.NODE_ENV": JSON.stringify(mode === "production" ? "production" : "development")
    }
  };
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJDOlxcXFxcdTA0MUZcdTA0NDBcdTA0M0VcdTA0MzVcdTA0M0FcdTA0NDJcdTA0NEJcXFxcU2VsbHl5b3VyYnJpY2sxOS4wMVxcXFxzZWxseW91cmJyaWNrbmV3XCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCJDOlxcXFxcdTA0MUZcdTA0NDBcdTA0M0VcdTA0MzVcdTA0M0FcdTA0NDJcdTA0NEJcXFxcU2VsbHl5b3VyYnJpY2sxOS4wMVxcXFxzZWxseW91cmJyaWNrbmV3XFxcXHZpdGUuY29uZmlnLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9DOi8lRDAlOUYlRDElODAlRDAlQkUlRDAlQjUlRDAlQkElRDElODIlRDElOEIvU2VsbHl5b3VyYnJpY2sxOS4wMS9zZWxseW91cmJyaWNrbmV3L3ZpdGUuY29uZmlnLmpzXCI7aW1wb3J0IHsgZGVmaW5lQ29uZmlnLCBsb2FkRW52IH0gZnJvbSAndml0ZSdcclxuaW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKCh7IG1vZGUgfSkgPT4ge1xyXG4gIC8vIFx1MDQxN1x1MDQzMFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzNlx1MDQzMFx1MDQzNVx1MDQzQyBcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEJcdTA0MzUgXHUwNDNFXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGXHJcbiAgY29uc3QgZW52ID0gbG9hZEVudihtb2RlLCBwcm9jZXNzLmN3ZCgpLCAnJylcclxuICBcclxuICAvLyBcdTA0MUZcdTA0M0VcdTA0M0JcdTA0NDNcdTA0NDdcdTA0MzBcdTA0MzVcdTA0M0MgQVBJIFVSTCBcdTA0MzhcdTA0MzcgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDNEXHUwNDNFXHUwNDM5IFx1MDQzRVx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzNlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0RiBcdTA0MzhcdTA0M0JcdTA0MzggXHUwNDM4XHUwNDQxXHUwNDNGXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDM3XHUwNDQzXHUwNDM1XHUwNDNDIGxvY2FsaG9zdCBcdTA0M0ZcdTA0M0UgXHUwNDQzXHUwNDNDXHUwNDNFXHUwNDNCXHUwNDQ3XHUwNDMwXHUwNDNEXHUwNDM4XHUwNDRFXHJcbiAgLy8gXHUwNDE1XHUwNDQxXHUwNDNCXHUwNDM4IFx1MDQ0M1x1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQzRFx1MDQzRVx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRCBcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0M0RcdTA0NEJcdTA0MzkgVVJMIChcdTA0M0RcdTA0MzBcdTA0M0ZcdTA0NDBcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDAsIGRldiB0dW5uZWxzKSwgXHUwNDM4XHUwNDQxXHUwNDNGXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDM3XHUwNDQzXHUwNDM1XHUwNDNDIFx1MDQzNVx1MDQzM1x1MDQzRVxyXG4gIC8vIFx1MDQxOFx1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNSBcdTA0MzhcdTA0NDFcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NENcdTA0MzdcdTA0NDNcdTA0MzVcdTA0M0MgbG9jYWxob3N0IFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0M0JcdTA0M0VcdTA0M0FcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0MzkgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQyXHUwNDNBXHUwNDM4XHJcbiAgY29uc3QgYXBpQmFzZVVybCA9IGVudi5WSVRFX0FQSV9CQVNFX1VSTCB8fCBlbnYuUkVBQ1RfQVBQX0FQSV9CQVNFX1VSTCB8fCAnL2FwaSdcclxuICBjb25zdCBhcGlVcmwgPSBhcGlCYXNlVXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSBcclxuICAgID8gYXBpQmFzZVVybC5yZXBsYWNlKCcvYXBpJywgJycpIFxyXG4gICAgOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ1xyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICBwbHVnaW5zOiBbcmVhY3QoKV0sXHJcbiAgICBzZXJ2ZXI6IHtcclxuICAgICAgcHJveHk6IHtcclxuICAgICAgICAnL2FwaSc6IHtcclxuICAgICAgICAgIHRhcmdldDogYXBpVXJsLFxyXG4gICAgICAgICAgY2hhbmdlT3JpZ2luOiB0cnVlLFxyXG4gICAgICAgICAgc2VjdXJlOiBmYWxzZSxcclxuICAgICAgICAgIC8vIFx1MDQxNVx1MDQ0MVx1MDQzQlx1MDQzOCBcdTA0MzhcdTA0NDFcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NENcdTA0MzdcdTA0NDNcdTA0MzVcdTA0M0MgXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQ4XHUwNDNEXHUwNDM4XHUwNDM5IFVSTCAoZGV2IHR1bm5lbHMpLCBcdTA0M0RcdTA0MzUgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDM3XHUwNDMwXHUwNDNGXHUwNDM4XHUwNDQxXHUwNDRCXHUwNDMyXHUwNDMwXHUwNDM1XHUwNDNDIG9yaWdpblxyXG4gICAgICAgICAgY29uZmlndXJlOiAocHJveHksIF9vcHRpb25zKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhcGlVcmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xyXG4gICAgICAgICAgICAgIHByb3h5Lm9uKCdwcm94eVJlcScsIChwcm94eVJlcSwgcmVxLCByZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFx1MDQxNFx1MDQzQlx1MDQ0RiBIVFRQUyBkZXYgdHVubmVscyBcdTA0M0NcdTA0M0VcdTA0MzZcdTA0MzVcdTA0NDIgXHUwNDNGXHUwNDNFXHUwNDQyXHUwNDQwXHUwNDM1XHUwNDMxXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGIFx1MDQzNFx1MDQzRVx1MDQzRlx1MDQzRVx1MDQzQlx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQzNVx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzMFx1MDQ0RiBcdTA0M0RcdTA0MzBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0MzlcdTA0M0FcdTA0MzBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUHJveHldICR7cmVxLm1ldGhvZH0gJHtyZXEudXJsfSAtPiAke2FwaVVybH0ke3JlcS51cmx9YClcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8gXHUwNDFGXHUwNDNFXHUwNDM0XHUwNDM0XHUwNDM1XHUwNDQwXHUwNDM2XHUwNDNBXHUwNDMwIFx1MDQzRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0Qlx1MDQ0NSBSRUFDVF9BUFBfIChcdTA0M0FcdTA0MzBcdTA0M0EgXHUwNDMyIENyZWF0ZSBSZWFjdCBBcHApXHJcbiAgICBkZWZpbmU6IHtcclxuICAgICAgLy8gXHUwNDFGXHUwNDQwXHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDQxXHUwNDRCXHUwNDMyXHUwNDMwXHUwNDM1XHUwNDNDIFJFQUNUX0FQUF8gXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM1IFx1MDQzMiBcdTA0M0FcdTA0M0VcdTA0MzRcclxuICAgICAgJ3Byb2Nlc3MuZW52LlJFQUNUX0FQUF9DTEVSS19QVUJMSVNIQUJMRV9LRVknOiBKU09OLnN0cmluZ2lmeShlbnYuUkVBQ1RfQVBQX0NMRVJLX1BVQkxJU0hBQkxFX0tFWSB8fCBlbnYuVklURV9DTEVSS19QVUJMSVNIQUJMRV9LRVkgfHwgJycpLFxyXG4gICAgICAncHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX0dPT0dMRV9DTElFTlRfSUQnOiBKU09OLnN0cmluZ2lmeShlbnYuUkVBQ1RfQVBQX0dPT0dMRV9DTElFTlRfSUQgfHwgZW52LlZJVEVfR09PR0xFX0NMSUVOVF9JRCB8fCAnJyksXHJcbiAgICAgICdwcm9jZXNzLmVudi5SRUFDVF9BUFBfRU1BSUxKU19TRVJWSUNFX0lEJzogSlNPTi5zdHJpbmdpZnkoZW52LlJFQUNUX0FQUF9FTUFJTEpTX1NFUlZJQ0VfSUQgfHwgZW52LlZJVEVfRU1BSUxKU19TRVJWSUNFX0lEIHx8ICcnKSxcclxuICAgICAgJ3Byb2Nlc3MuZW52LlJFQUNUX0FQUF9FTUFJTEpTX1RFTVBMQVRFX0lEJzogSlNPTi5zdHJpbmdpZnkoZW52LlJFQUNUX0FQUF9FTUFJTEpTX1RFTVBMQVRFX0lEIHx8IGVudi5WSVRFX0VNQUlMSlNfVEVNUExBVEVfSUQgfHwgJycpLFxyXG4gICAgICAncHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX0VNQUlMSlNfUFVCTElDX0tFWSc6IEpTT04uc3RyaW5naWZ5KGVudi5SRUFDVF9BUFBfRU1BSUxKU19QVUJMSUNfS0VZIHx8IGVudi5WSVRFX0VNQUlMSlNfUFVCTElDX0tFWSB8fCAnJyksXHJcbiAgICAgICdwcm9jZXNzLmVudi5SRUFDVF9BUFBfQVBJX0JBU0VfVVJMJzogSlNPTi5zdHJpbmdpZnkoZW52LlJFQUNUX0FQUF9BUElfQkFTRV9VUkwgfHwgZW52LlZJVEVfQVBJX0JBU0VfVVJMIHx8ICcvYXBpJyksXHJcbiAgICAgICdwcm9jZXNzLmVudi5OT0RFX0VOVic6IEpTT04uc3RyaW5naWZ5KG1vZGUgPT09ICdwcm9kdWN0aW9uJyA/ICdwcm9kdWN0aW9uJyA6ICdkZXZlbG9wbWVudCcpLFxyXG4gICAgfSxcclxuICB9XHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUEwVyxTQUFTLGNBQWMsZUFBZTtBQUNoWixPQUFPLFdBQVc7QUFFbEIsSUFBTyxzQkFBUSxhQUFhLENBQUMsRUFBRSxLQUFLLE1BQU07QUFFeEMsUUFBTSxNQUFNLFFBQVEsTUFBTSxRQUFRLElBQUksR0FBRyxFQUFFO0FBSzNDLFFBQU0sYUFBYSxJQUFJLHFCQUFxQixJQUFJLDBCQUEwQjtBQUMxRSxRQUFNLFNBQVMsV0FBVyxXQUFXLE1BQU0sSUFDdkMsV0FBVyxRQUFRLFFBQVEsRUFBRSxJQUM3QjtBQUVKLFNBQU87QUFBQSxJQUNMLFNBQVMsQ0FBQyxNQUFNLENBQUM7QUFBQSxJQUNqQixRQUFRO0FBQUEsTUFDTixPQUFPO0FBQUEsUUFDTCxRQUFRO0FBQUEsVUFDTixRQUFRO0FBQUEsVUFDUixjQUFjO0FBQUEsVUFDZCxRQUFRO0FBQUE7QUFBQSxVQUVSLFdBQVcsQ0FBQyxPQUFPLGFBQWE7QUFDOUIsZ0JBQUksT0FBTyxXQUFXLFVBQVUsR0FBRztBQUNqQyxvQkFBTSxHQUFHLFlBQVksQ0FBQyxVQUFVLEtBQUssUUFBUTtBQUUzQyx3QkFBUSxJQUFJLFdBQVcsSUFBSSxNQUFNLElBQUksSUFBSSxHQUFHLE9BQU8sTUFBTSxHQUFHLElBQUksR0FBRyxFQUFFO0FBQUEsY0FDdkUsQ0FBQztBQUFBLFlBQ0g7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUVBLFFBQVE7QUFBQTtBQUFBLE1BRU4sK0NBQStDLEtBQUssVUFBVSxJQUFJLG1DQUFtQyxJQUFJLDhCQUE4QixFQUFFO0FBQUEsTUFDekksMENBQTBDLEtBQUssVUFBVSxJQUFJLDhCQUE4QixJQUFJLHlCQUF5QixFQUFFO0FBQUEsTUFDMUgsNENBQTRDLEtBQUssVUFBVSxJQUFJLGdDQUFnQyxJQUFJLDJCQUEyQixFQUFFO0FBQUEsTUFDaEksNkNBQTZDLEtBQUssVUFBVSxJQUFJLGlDQUFpQyxJQUFJLDRCQUE0QixFQUFFO0FBQUEsTUFDbkksNENBQTRDLEtBQUssVUFBVSxJQUFJLGdDQUFnQyxJQUFJLDJCQUEyQixFQUFFO0FBQUEsTUFDaEksc0NBQXNDLEtBQUssVUFBVSxJQUFJLDBCQUEwQixJQUFJLHFCQUFxQixNQUFNO0FBQUEsTUFDbEgsd0JBQXdCLEtBQUssVUFBVSxTQUFTLGVBQWUsZUFBZSxhQUFhO0FBQUEsSUFDN0Y7QUFBQSxFQUNGO0FBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFtdCn0K
