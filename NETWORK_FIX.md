# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ NO_SOCKET –∏ IPV6_NDISC_BAD_CODE

## üö® –ü—Ä–æ–±–ª–µ–º—ã –≤ –ª–æ–≥–∞—Ö Railway:

1. **`NO_SOCKET`** - DNS –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞—Ç—å —Å–æ–∫–µ—Ç
2. **`IPV6_NDISC_BAD_CODE`** - –æ—à–∏–±–∫–∞ IPv6 Neighbor Discovery Protocol
3. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º –º–µ–∂–¥—É Vite –∏ —Å–µ—Ä–≤–µ—Ä–æ–º

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. –ó–∞–º–µ–Ω–∞ `localhost` –Ω–∞ `127.0.0.1` –≤ Vite proxy:
- **–ë—ã–ª–æ:** `http://localhost:3000`
- **–°—Ç–∞–ª–æ:** `http://127.0.0.1:3000`
- **–ü—Ä–∏—á–∏–Ω–∞:** `localhost` –º–æ–∂–µ—Ç —Ä–µ–∑–æ–ª–≤–∏—Ç—å—Å—è –≤ IPv6 –∞–¥—Ä–µ—Å, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ Railway

### 2. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IPv4 –≤ proxy:
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `family: 4` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ proxy
- –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ IPv4, –∏–∑–±–µ–≥–∞—è –ø—Ä–æ–±–ª–µ–º —Å IPv6

### 3. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6 –≤ Dockerfile:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `sysctl` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è IPv6
- –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ `IPV6_NDISC_BAD_CODE`

### 4. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ proxy:
- –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `proxy.on('error')` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### –ü—Ä–æ–±–ª–µ–º–∞ —Å IPv6 –Ω–∞ Railway:
Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç IPv6 –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏, –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:
- DNS –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –ø–∞–¥–∞—Ç—å —Å `NO_SOCKET`
- Neighbor Discovery Protocol –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫–∏
- –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –†–µ—à–µ–Ω–∏–µ:
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IPv4:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º IPv4 –¥–ª—è –≤—Å–µ—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
2. **127.0.0.1 –≤–º–µ—Å—Ç–æ localhost:** –ò–∑–±–µ–≥–∞–µ–º –ø—Ä–æ–±–ª–µ–º —Å DNS —Ä–µ–∑–æ–ª–≤–∏–Ω–≥–æ–º
3. **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö:

### `vite.config.js`:
```javascript
const apiUrl = process.env.API_URL || `http://127.0.0.1:${serverPort}`

proxy: {
  '/api': {
    target: apiUrl,
    family: 4, // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ IPv4
    // ...
  }
}
```

### `Dockerfile`:
```dockerfile
RUN ... \
    && echo "net.ipv6.conf.all.disable_ipv6 = 1" >> /etc/sysctl.conf \
    && echo "net.ipv6.conf.default.disable_ipv6 = 1" >> /etc/sysctl.conf
```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ DNS –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫ `NO_SOCKET`
- ‚úÖ –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ `IPV6_NDISC_BAD_CODE`
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É Vite –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –°–µ—Ç–µ–≤—ã–µ –ª–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## üéØ –ò—Ç–æ–≥–æ:

- ‚úÖ `localhost` ‚Üí `127.0.0.1` (–∏–∑–±–µ–≥–∞–µ–º –ø—Ä–æ–±–ª–µ–º —Å DNS/IPv6)
- ‚úÖ `family: 4` –≤ proxy (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ IPv4)
- ‚úÖ –û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6 –≤ Dockerfile (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏)
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ proxy

–≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–∫–µ—Ç–∞–º–∏ –∏ IPv6 –Ω–∞ Railway.
