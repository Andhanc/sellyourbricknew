@echo off
chcp 65001 >nul
echo ========================================
echo Сброс всех изменений к коммиту a9dc649
echo ========================================
echo.
echo ВНИМАНИЕ: Все локальные изменения будут потеряны!
echo.
set /p confirm="Продолжить? (y/n): "
if /i not "%confirm%"=="y" (
    echo Отменено.
    pause
    exit /b 0
)

echo.
echo [1/2] Отмена всех локальных изменений...
git reset --hard HEAD
if errorlevel 1 (
    echo ОШИБКА: Не удалось сбросить изменения
    pause
    exit /b 1
)

echo.
echo [2/2] Очистка неотслеживаемых файлов...
git clean -fd
if errorlevel 1 (
    echo ПРЕДУПРЕЖДЕНИЕ: Не удалось очистить неотслеживаемые файлы
)

echo.
echo ========================================
echo Готово! Все изменения сброшены
echo ========================================
echo.
echo Проверка статуса:
git status
echo.
pause
